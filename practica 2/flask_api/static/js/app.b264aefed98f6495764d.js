webpackJsonp([1],{"2Bxi":function(t,e,r){t.exports=r.p+"static/img/2.898d138.jpg"},HbUk:function(t,e,r){t.exports=r.p+"static/img/default.5762d31.jpg"},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Tqaz"),s=(r("sWs5"),r("7+uW")),n={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},i=r("VU/8")(null,n,!1,null,null,null).exports,o=r("/ocq"),c=r("mtWM"),l=r.n(c),d={created:function(){this.logged=this.$route.query.logged,this.username=this.$route.query.username,this.is_admin=this.$route.query.is_admin,this.token=this.$route.query.token,this.getEvents(),this.getAvailableMoney(),this.getTotalTickets()},data:function(){return{message:"Events",tickets_bought:[],events:[],events_added:[],logged:!1,username:"",available_money:0,is_admin:0,token:null,total_tickets:0,show_events:!0,show_cart:!1,adding_event:!1,updating_event:!1,adding_artist:!1,adding_artist_to_event:!1,updating_artist:!1,deleting_artist:!1,addEventForm:{event_name:"",event_price:null,event_date:"",event_country:"",event_city:"",event_place:"",event_tickets:null},editEventForm:{event_id:"",event_name:"",event_place:"",event_city:"",event_date:"",event_price:"",event_tickets:""},addArtistForm:{artist_name:"",artist_country:"",artist_genre:""},updateArtistForm:{artist_name:"",artist_new_name:"",artist_country:"",artist_genre:""},deleteArtistForm:{artist_name:""},adding_artist_event:null,deleting_artist_event:null}},methods:{getEvents:function(){var t=this;l.a.get("https://sdprova.herokuapp.com/events").then(function(e){t.events=e.data.events}).catch(function(t){console.error(t)})},getImg:function(t){try{return r("vvha")("./"+t+".jpg")}catch(t){return r("HbUk")}},buyTickets:function(t){if(t.total_available_tickets<=0)alert("There are no tickets available for this event.");else{for(var e=0;e<this.events_added.length;e+=1)if(this.events_added[e].name==t.name)return void(this.tickets_bought[this.tickets_bought.indexOf(this.events_added[e])]+=1);this.events_added.push(t),this.tickets_bought.push(1),alert("Event added to cart successfully")}},toggleCart:function(){this.show_events||this.getEvents(),this.show_events=!this.show_events,this.adding_event=!1},decreaseQuantity:function(t){this.tickets_bought[t]>0&&(this.tickets_bought[t]-=1,0==this.tickets_bought[t]&&(this.events_added.splice(t,1),this.tickets_bought.splice(t,1))),this.toggleCart(),this.toggleCart()},increaseQuantity:function(t){this.tickets_bought[t]+=1,this.toggleCart(),this.toggleCart()},deleteOrder:function(t){var e=this.events_added.indexOf(t);this.events_added.splice(e,1),this.tickets_bought.splice(e,1)},addPurchase:function(t,e){var r=this,a="https://sdprova.herokuapp.com/orders/"+this.username;l.a.post(a,t,{auth:{username:this.token}}).then(function(t){r.deleteOrder(e),alert("Purchase completed successfully")}).catch(function(t){400==t.response.status&&alert(t.response.data.message),console.error(t),r.getEvents()})},finalizePurchase:function(){for(var t=0;t<this.events_added.length;t+=1){var e={id_event:this.events_added[t].id,tickets_bought:this.tickets_bought[t]};this.addPurchase(e,this.events_added[t])}this.getAvailableMoney()},calculateTotal:function(){for(var t=0,e=0;e<this.events_added.length;e+=1)t+=this.events_added[e].price*this.tickets_bought[e];return t},getAvailableMoney:function(){var t=this,e=[];l.a.get("https://sdprova.herokuapp.com/accounts").then(function(r){e=r.data.accounts;for(var a=0;a<e.length;a++)e[a].username==t.username&&(t.available_money=e[a].available_money)}).catch(function(t){console.error(t)})},getTotalTickets:function(){var t=this,e="https://sdprova.herokuapp.com/orders/"+this.username,r=[];l.a.get(e).then(function(e){r=e.data.orders;for(var a=0;a<r.length;a++)t.total_tickets+=r[a].tickets_bought}).catch(function(t){console.error(t)})},createEvent:function(){var t=this,e={name:this.addEventForm.event_name,place:this.addEventForm.event_place,city:this.addEventForm.event_city,date:this.addEventForm.event_date,price:this.addEventForm.event_price,total_available_tickets:this.addEventForm.event_tickets};l.a.post("https://sdprova.herokuapp.com/event",e,{auth:{username:this.token}}).then(function(e){alert("Event created successfully"),t.initAddEventForm(),t.adding_event=!1,t.show_events=!0,t.initAddEventForm()}).catch(function(t){401==t.response.status?alert("You need to be an admin to add an event"):404==t.response.status?alert("Event already exists"):console.error(t)})},initAddEventForm:function(){this.addEventForm.event_name="",this.addEventForm.event_price=null,this.addEventForm.event_date="",this.addEventForm.event_country="",this.addEventForm.event_city="",this.addEventForm.event_place="",this.addEventForm.event_tickets=null},updateEvent:function(){var t=this,e="https://sdprova.herokuapp.com/event/"+this.editEventForm.event_id,r={name:this.editEventForm.event_name,place:this.editEventForm.event_place,city:this.editEventForm.event_city,date:this.editEventForm.event_date,price:this.editEventForm.event_price,total_available_tickets:this.editEventForm.event_tickets};l.a.put(e,r,{auth:{username:this.token}}).then(function(e){alert("Event updated successfully"),t.updating_event=!1,t.show_events=!0,t.initEditEventForm()}).catch(function(t){alert("There was an error updating the event"),console.error(t)})},initEditEventForm:function(){this.editEventForm.event_id=null,this.editEventForm.event_name="",this.editEventForm.event_place="",this.editEventForm.event_city="",this.editEventForm.event_date="",this.editEventForm.event_price=null,this.editEventForm.event_tickets=null},addArtist:function(){var t=this,e={name:this.addArtistForm.artist_name,country:this.addArtistForm.artist_country,genre:this.addArtistForm.artist_genre};l.a.post("https://sdprova.herokuapp.com/artist",e,{auth:{username:this.token}}).then(function(e){alert("Artist added successfully"),t.initAddArtistForm(),t.adding_artist=!1,t.show_events=!0}).catch(function(t){console.error(t),404==t.response.status?alert("Artist already exists"):alert("There was an error while adding the artist")})},updateArtist:function(){var t=this,e={name:this.updateArtistForm.artist_name,new_name:this.updateArtistForm.artist_new_name,country:this.updateArtistForm.artist_country,genre:this.updateArtistForm.artist_genre};l.a.put("https://sdprova.herokuapp.com/artist",e,{auth:{username:this.token}}).then(function(e){alert("Artist updated successfully"),t.initUpdateArtistForm(),t.updating_artist=!1,t.show_events=!0}).catch(function(t){console.error(t),alert("Artist not found.")})},addArtistToEvent:function(){var t=this,e="https://sdprova.herokuapp.com/event/"+this.adding_artist_event.id+"/artist",r={name:this.addArtistForm.artist_name,country:this.addArtistForm.artist_country,genre:this.addArtistForm.artist_genre};l.a.post(e,r,{auth:{username:this.token}}).then(function(e){alert("Artist added to event successfully"),t.initAddArtistForm(),t.adding_artist_to_event=!1,t.show_events=!0}).catch(function(t){403==t.response.status?alert("You don't have permission to add an artist"):401==t.response.status?alert("Your session has expired, please log in again"):alert("There was an error adding the artist"),console.error(t)})},initAddArtistForm:function(){this.addArtistForm.artist_name="",this.addArtistForm.artist_country="",this.addArtistForm.artist_genre=""},initUpdateArtistForm:function(){this.updateArtistForm.artist_name="",this.updateArtistForm.artist_new_name="",this.updateArtistForm.artist_country="",this.updateArtistForm.artist_genre=""},deleteArtist:function(){var t=this,e=[],r=null;l.a.get("https://sdprova.herokuapp.com/artists").then(function(a){e=a.data.artists;for(var s=0;s<e.length;s++)e[s].name==t.deleteArtistForm.artist_name&&(r=e[s].id);var n="https://sdprova.herokuapp.com/artist/"+r;l.a.delete(n,{auth:{username:t.token}}).then(function(e){alert("Artist deleted successfully"),t.initDeleteArtistForm(),t.deleting_artist=!1,t.show_events=!0}).catch(function(t){console.error(t)})}).catch(function(t){console.error(t)})},deleteArtistFromEvent:function(){var t=this,e=[],r=null;l.a.get("https://sdprova.herokuapp.com/event/"+this.deleting_artist_event.id+"/artists").then(function(a){e=a.data.artists;for(var s=0;s<e.length;s++)e[s].name==t.deleteArtistForm.artist_name&&(r=e[s].id);if(null!=r){var n="https://sdprova.herokuapp.com/event/"+t.deleting_artist_event.id+"/artist/"+r;l.a.delete(n,{auth:{username:t.token}}).then(function(e){alert("Artist removed from event successfully"),t.initDeleteArtistForm(),t.deleting_artist_from_event=!1,t.show_events=!0}).catch(function(t){console.error(t)})}else alert("Artist is not part of the event")}).catch(function(t){console.error(t)})},initDeleteArtistForm:function(){this.deleteArtistForm.artist_name=""},logIn:function(){this.$router.replace({path:"/userlogin"})},logOut:function(){this.logged=!1,this.is_admin=0,this.username="",this.available_money=0,this.tickets_bought=[],this.token=null,this.$router.replace({path:"/"})},deleteEvent:function(t){var e="https://sdprova.herokuapp.com/event/"+t;l.a.delete(e,{auth:{username:this.token}}).then(function(t){alert("Event deleted successfully")}).catch(function(t){console.error(t)})}}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("center",[t.logged?r("div",{staticStyle:{"margin-left":"20px","margin-top":"20px"}},[r("h5",[t._v(" Welcome, "+t._s(t.username)+" ")]),t._v(" "),r("h6",[t._v(" Avaliable money: "+t._s(t.available_money)+"€ ")]),t._v(" "),r("h6",[t._v(" Total tickets bought: "+t._s(t.total_tickets)+" ")]),t._v(" "),t.show_events?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"#00ccff"},on:{click:function(e){t.show_events=!1,t.show_cart=!0}}},[t._v(" View Cart ("+t._s(t.events_added.length)+")")]):t._e(),t._v(" "),t.show_cart?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"#00ccff"},on:{click:function(e){t.show_cart=!1,t.show_events=!0}}},[t._v(" View Events ")]):t._e(),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"#ff5050"},on:{click:function(e){return t.logOut()}}},[t._v(" Log Out ")])]):t._e(),t._v(" "),r("div",{staticStyle:{"margin-bottom":"20px"}},[t.show_events?r("div",[t.logged?t._e():r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"#00ccff"},on:{click:function(e){return t.logIn()}}},[t._v(" Log In ")]),t._v(" "),r("h1",[t._v(" "+t._s(t.message)+" ")]),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"row"},t._l(t.events,function(e){return r("div",{key:e.id,staticClass:"col-lg-4 col-md-6 mb-4 card",staticStyle:{width:"18rem"}},[r("img",{staticClass:"card-img-top",attrs:{src:t.getImg(e.id),alt:"Card image cap"}}),t._v(" "),r("div",{staticClass:"card-body",staticStyle:{"background-color":"#00ccff"}},[r("h6",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._v(" "),r("h6",[t._v(" Artists: ")]),t._v(" "),t._l(e.artists,function(e){return r("div",{key:e.id},[r("h5",[t._v(t._s(e.name))])])}),t._v(" "),r("h5",[t._v(t._s(e.country))]),t._v(" "),r("h6",[t._v(t._s(e.city))]),t._v(" "),r("h6",[t._v(t._s(e.place))]),t._v(" "),r("h6",[t._v(t._s(e.date))]),t._v(" "),r("h6",[t._v(t._s(e.price)+" €")]),t._v(" "),r("h6",[t._v(t._s(e.total_available_tickets)+" available tickets ")]),t._v(" "),t.logged?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"margin-bottom":"10px"},on:{click:function(r){return t.buyTickets(e)}}},[t._v(" Add To Cart ")]):t._e(),t._v(" "),t.logged&&1==t.is_admin?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"margin-bottom":"10px"},on:{click:function(r){t.initAddArtistForm(),t.adding_artist_event=e,t.show_events=!1,t.adding_artist_to_event=!0}}},[t._v(" Add Artist To Event ")]):t._e(),t._v(" "),t.logged&&1==t.is_admin?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"margin-bottom":"10px"},on:{click:function(r){t.initDeleteArtistForm(),t.deleting_artist_event=e,t.show_events=!1,t.deleting_artist_from_event=!0}}},[t._v(" Delete Artist From Event ")]):t._e(),t._v(" "),t.logged&&1==t.is_admin?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"border-radius":"5px","background-color":"red"},on:{click:function(r){return t.deleteEvent(e.id)}}},[t._v(" Delete Event ")]):t._e()],2)])}),0),t._v(" "),t.logged&&1==t.is_admin?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"border-radius":"5px"},on:{click:function(e){t.initAddEventForm(),t.show_events=!1,t.adding_event=!0}}},[t._v(" Add New Event ")]):t._e(),t._v(" "),t.logged&&1==t.is_admin?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"border-radius":"5px"},on:{click:function(e){t.initEditEventForm(),t.show_events=!1,t.updating_event=!0}}},[t._v(" Update Event ")]):t._e(),t._v(" "),t.logged&&1==t.is_admin?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"border-radius":"5px"},on:{click:function(e){t.initAddArtistForm(),t.show_events=!1,t.adding_artist=!0}}},[t._v(" Add New Artist ")]):t._e(),t._v(" "),t.logged&&1==t.is_admin?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"border-radius":"5px"},on:{click:function(e){t.initUpdateArtistForm(),t.show_events=!1,t.updating_artist=!0}}},[t._v(" Update Artist ")]):t._e(),t._v(" "),t.logged&&1==t.is_admin?r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"border-radius":"5px","background-color":"red"},on:{click:function(e){t.initDeleteArtistForm(),t.show_events=!1,t.deleting_artist=!0}}},[t._v(" Delete an Artist ")]):t._e()])]):t._e(),t._v(" "),t.show_cart?r("div",[r("table",{staticStyle:{width:"60%",border:"1px solid black"}},[r("tr",{staticStyle:{border:"1px solid black"}},[r("th",{staticStyle:{border:"1px solid black"}},[t._v(" Event Name ")]),t._v(" "),r("th",{staticStyle:{border:"1px solid black"}},[t._v(" Quantity ")]),t._v(" "),r("th",{staticStyle:{border:"1px solid black"}},[t._v(" Price ")]),t._v(" "),r("th",{staticStyle:{border:"1px solid black"}},[t._v(" Total ")]),t._v(" "),r("th",{staticStyle:{border:"1px solid black"}},[t._v(" Delete ticket ")])]),t._v(" "),t._l(t.events_added,function(e,a){return r("tr",{key:e.id,staticStyle:{border:"1px solid black"}},[r("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.name)+" ")]),t._v(" "),r("td",[r("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[r("h6",[t._v(" "+t._s(t.tickets_bought[a])+" ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"red"},on:{click:function(e){return t.decreaseQuantity(a)}}},[t._v(" - ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"green"},on:{click:function(e){return t.increaseQuantity(a)}}},[t._v(" + ")])])]),t._v(" "),r("td",[t._v(" "+t._s(e.price)+" ")]),t._v(" "),r("td",[t._v(" "+t._s(t.tickets_bought[a]*e.price)+" € ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",on:{click:function(e){return t.deleteOrder(t.order)}}},[t._v(" Delete ticket ")])])})],2),t._v(" "),t.events_added.length>0?r("h2",[t._v(" Total: "+t._s(t.calculateTotal())+"€ ")]):t._e(),t._v(" "),t.events_added.length>0?r("button",{staticClass:"btn btn-success btn-lg",on:{click:function(e){return t.finalizePurchase()}}},[t._v(" Finalize purchase ")]):t._e()]):t._e()]),t._v(" "),t.adding_event?r("div",{staticStyle:{width:"300px",border:"1px solid black","border-radius":"10px"}},[r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventName"}},[t._v(" Event Name ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.event_name,expression:"addEventForm.event_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Event name",required:"",autofocus:""},domProps:{value:t.addEventForm.event_name},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"event_name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventPrice"}},[t._v(" Price ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.event_price,expression:"addEventForm.event_price"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Price",required:""},domProps:{value:t.addEventForm.event_price},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"event_price",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventDate"}},[t._v(" Date ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.event_date,expression:"addEventForm.event_date"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Date",required:"",autofocus:""},domProps:{value:t.addEventForm.event_date},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"event_date",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventCountry"}},[t._v(" Country ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.event_country,expression:"addEventForm.event_country"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Country",required:""},domProps:{value:t.addEventForm.event_country},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"event_country",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventCity"}},[t._v(" City ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.event_city,expression:"addEventForm.event_city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"City",required:""},domProps:{value:t.addEventForm.event_city},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"event_city",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventPlace"}},[t._v(" Place ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.event_place,expression:"addEventForm.event_place"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Place",required:"",autofocus:""},domProps:{value:t.addEventForm.event_place},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"event_place",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventTickets"}},[t._v(" Tickets ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.event_tickets,expression:"addEventForm.event_tickets"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Tickets",required:""},domProps:{value:t.addEventForm.event_tickets},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"event_tickets",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"light-blue","font-color":"white"},on:{click:function(e){t.createEvent(),t.show_events=!0,t.adding_event=!1}}},[t._v(" Submit ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"red","font-color":"white"},on:{click:function(e){t.adding_event=!1,t.show_events=!0}}},[t._v(" Back ")])])]):t._e(),t._v(" "),t.updating_event?r("div",{staticStyle:{width:"300px",border:"1px solid black","border-radius":"10px"}},[r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventId"}},[t._v(" Event ID ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.event_id,expression:"editEventForm.event_id"}],staticClass:"form-control",attrs:{type:"number",placeholder:"ID",required:"",autofocus:""},domProps:{value:t.editEventForm.event_id},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"event_id",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventName"}},[t._v(" Name ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.event_name,expression:"editEventForm.event_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:t.editEventForm.event_name},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"event_name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventPlace"}},[t._v(" Place ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.event_place,expression:"editEventForm.event_place"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Place",required:"",autofocus:""},domProps:{value:t.editEventForm.event_place},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"event_place",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventCity"}},[t._v(" City ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.event_city,expression:"editEventForm.event_city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"City",required:""},domProps:{value:t.editEventForm.event_city},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"event_city",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventDate"}},[t._v(" Date ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.event_date,expression:"editEventForm.event_date"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Date",required:""},domProps:{value:t.editEventForm.event_date},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"event_date",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventPlace"}},[t._v(" Price ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.event_price,expression:"editEventForm.event_price"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Price",required:"",autofocus:""},domProps:{value:t.editEventForm.event_price},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"event_price",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEventTickets"}},[t._v(" Tickets ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.event_tickets,expression:"editEventForm.event_tickets"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Tickets",required:""},domProps:{value:t.editEventForm.event_tickets},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"event_tickets",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"light-blue","font-color":"white"},on:{click:function(e){return t.updateEvent()}}},[t._v(" Submit ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"red","font-color":"white"},on:{click:function(e){t.updating_event=!1,t.show_events=!0}}},[t._v(" Back ")])])]):t._e(),t._v(" "),t.adding_artist_to_event?r("div",{staticStyle:{width:"300px",border:"1px solid black","border-radius":"10px"}},[r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistName"}},[t._v(" Name ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addArtistForm.artist_name,expression:"addArtistForm.artist_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Name",required:"",autofocus:""},domProps:{value:t.addArtistForm.artist_name},on:{input:function(e){e.target.composing||t.$set(t.addArtistForm,"artist_name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistCountry"}},[t._v(" Country ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addArtistForm.artist_country,expression:"addArtistForm.artist_country"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Country",required:""},domProps:{value:t.addArtistForm.artist_country},on:{input:function(e){e.target.composing||t.$set(t.addArtistForm,"artist_country",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistGenre"}},[t._v(" Genre ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addArtistForm.artist_genre,expression:"addArtistForm.artist_genre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Genre",required:"",autofocus:""},domProps:{value:t.addArtistForm.artist_genre},on:{input:function(e){e.target.composing||t.$set(t.addArtistForm,"artist_genre",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"light-blue","font-color":"white"},on:{click:function(e){return t.addArtistToEvent()}}},[t._v(" Submit ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"red","font-color":"white"},on:{click:function(e){t.adding_artist_to_event=!1,t.show_events=!0}}},[t._v(" Back ")])])]):t._e(),t._v(" "),t.adding_artist?r("div",{staticStyle:{width:"300px",border:"1px solid black","border-radius":"10px"}},[r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistName"}},[t._v(" Name ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addArtistForm.artist_name,expression:"addArtistForm.artist_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Name",required:"",autofocus:""},domProps:{value:t.addArtistForm.artist_name},on:{input:function(e){e.target.composing||t.$set(t.addArtistForm,"artist_name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistCountry"}},[t._v(" Country ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addArtistForm.artist_country,expression:"addArtistForm.artist_country"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Country",required:""},domProps:{value:t.addArtistForm.artist_country},on:{input:function(e){e.target.composing||t.$set(t.addArtistForm,"artist_country",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistGenre"}},[t._v(" Genre ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addArtistForm.artist_genre,expression:"addArtistForm.artist_genre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Genre",required:"",autofocus:""},domProps:{value:t.addArtistForm.artist_genre},on:{input:function(e){e.target.composing||t.$set(t.addArtistForm,"artist_genre",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"light-blue","font-color":"white"},on:{click:function(e){return t.addArtist()}}},[t._v(" Submit ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"red","font-color":"white"},on:{click:function(e){t.adding_artist=!1,t.show_events=!0}}},[t._v(" Back ")])])]):t._e(),t._v(" "),t.updating_artist?r("div",{staticStyle:{width:"300px",border:"1px solid black","border-radius":"10px"}},[r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistName"}},[t._v(" Name ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.updateArtistForm.artist_name,expression:"updateArtistForm.artist_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Name",required:"",autofocus:""},domProps:{value:t.updateArtistForm.artist_name},on:{input:function(e){e.target.composing||t.$set(t.updateArtistForm,"artist_name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistNewName"}},[t._v(" New Name ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.updateArtistForm.artist_new_name,expression:"updateArtistForm.artist_new_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist New Name",required:"",autofocus:""},domProps:{value:t.updateArtistForm.artist_new_name},on:{input:function(e){e.target.composing||t.$set(t.updateArtistForm,"artist_new_name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistCountry"}},[t._v(" Country ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.updateArtistForm.artist_country,expression:"updateArtistForm.artist_country"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Country",required:""},domProps:{value:t.updateArtistForm.artist_country},on:{input:function(e){e.target.composing||t.$set(t.updateArtistForm,"artist_country",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistGenre"}},[t._v(" Genre ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.updateArtistForm.artist_genre,expression:"updateArtistForm.artist_genre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Genre",required:"",autofocus:""},domProps:{value:t.updateArtistForm.artist_genre},on:{input:function(e){e.target.composing||t.$set(t.updateArtistForm,"artist_genre",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"light-blue","font-color":"white"},on:{click:function(e){return t.updateArtist()}}},[t._v(" Submit ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"red","font-color":"white"},on:{click:function(e){t.updating_artist=!1,t.show_events=!0}}},[t._v(" Back ")])])]):t._e(),t._v(" "),t.deleting_artist_from_event?r("div",{staticStyle:{width:"300px",border:"1px solid black","border-radius":"10px"}},[r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistName"}},[t._v(" Name ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.deleteArtistForm.artist_name,expression:"deleteArtistForm.artist_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Name",required:"",autofocus:""},domProps:{value:t.deleteArtistForm.artist_name},on:{input:function(e){e.target.composing||t.$set(t.deleteArtistForm,"artist_name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"light-blue","font-color":"white"},on:{click:function(e){return t.deleteArtistFromEvent()}}},[t._v(" Submit ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"red","font-color":"white"},on:{click:function(e){t.deleting_artist_from_event=!1,t.show_events=!0}}},[t._v(" Back ")])])]):t._e(),t._v(" "),t.deleting_artist?r("div",{staticStyle:{width:"300px",border:"1px solid black","border-radius":"10px"}},[r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputArtistName"}},[t._v(" Name ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.deleteArtistForm.artist_name,expression:"deleteArtistForm.artist_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Artist Name",required:"",autofocus:""},domProps:{value:t.deleteArtistForm.artist_name},on:{input:function(e){e.target.composing||t.$set(t.deleteArtistForm,"artist_name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"light-blue","font-color":"white"},on:{click:function(e){return t.deleteArtist()}}},[t._v(" Submit ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"red","font-color":"white"},on:{click:function(e){t.deleting_artist=!1,t.show_events=!0}}},[t._v(" Back ")])])]):t._e()])},staticRenderFns:[]},v=r("VU/8")(d,u,!1,null,null,null).exports,m={data:function(){return{username:"",password:"",is_admin:0,token:null,find_match:!1,create_account:!1,addUserForm:{username:"",password:""}}},methods:{checkLogin:function(){var t=this,e={username:this.username,password:this.password};this.getAccount(),l.a.post("https://sdprova.herokuapp.com/login",e).then(function(e){t.logged=!0,t.token=e.data.token,t.find_match=!0,t.$router.replace({path:"/",query:{username:t.username,logged:t.logged,is_admin:t.is_admin,token:t.token}})}).catch(function(e){console.error(e),t.username="",alert("Username or Password incorrect")})},getAccount:function(){var t=this,e=[];l.a.get("https://sdprova.herokuapp.com/accounts").then(function(r){e=r.data.accounts;for(var a=0;a<e.length;a++)e[a].username==t.username&&(t.is_admin=e[a].is_admin)}).catch(function(t){console.error(t)})},toggleCreateAccount:function(){this.create_account=!this.create_account},backToEvents:function(){this.$router.replace({path:"/"})},initForm:function(){this.addUserForm.username="",this.addUserForm.password=""},createUser:function(){var t=this,e={username:this.addUserForm.username,password:this.addUserForm.password};l.a.post("https://sdprova.herokuapp.com/account",e).then(function(e){alert("Account created successfully"),t.username=t.addUserForm.username,t.logged=!0,t.token=e.data.token,t.find_match=!0,t.getAccount(),t.$router.replace({path:"/",query:{username:t.username,logged:t.logged,is_admin:t.is_admin,token:t.token}})}).catch(function(t){404==t.response.status?alert("Username already exists"):console.error(t)})}}},p={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("center",[t.create_account?t._e():r("div",{staticStyle:{width:"300px",border:"1px solid black","border-radius":"10px"}},[r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEmail"}},[t._v("Username")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"username",id:"inputUsername",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"green"},on:{click:function(e){return t.checkLogin()}}},[t._v(" Sign In ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"blue"},on:{click:function(e){return t.toggleCreateAccount()}}},[t._v(" Create Account ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"grey"},on:{click:function(e){return t.backToEvents()}}},[t._v(" Back to Events ")])])]),t._v(" "),t.create_account?r("div",{staticStyle:{width:"300px",border:"1px solid black","border-radius":"10px"}},[r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputEmail"}},[t._v("Username")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserForm.username,expression:"addUserForm.username"}],staticClass:"form-control",attrs:{type:"username",id:"inputUsername",placeholder:"Enter username",required:"",autofocus:""},domProps:{value:t.addUserForm.username},on:{input:function(e){e.target.composing||t.$set(t.addUserForm,"username",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-label-group"},[r("label",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserForm.password,expression:"addUserForm.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Enter password",required:""},domProps:{value:t.addUserForm.password},on:{input:function(e){e.target.composing||t.$set(t.addUserForm,"password",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"light-blue"},on:{click:function(e){return t.createUser()}}},[t._v(" Submit ")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg",staticStyle:{"background-color":"red"},on:{click:function(e){return t.toggleCreateAccount()}}},[t._v(" Back ")])])]):t._e()])},staticRenderFns:[]},_=r("VU/8")(m,p,!1,null,null,null).exports;s.default.use(o.a);var g=new o.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:[{path:"/",name:"Events",component:v},{path:"/userlogin",name:"Login",component:_}]});s.default.use(a.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:g,components:{App:i},template:"<App/>"})},lQgp:function(t,e,r){t.exports=r.p+"static/img/3.eb24859.jpg"},sWs5:function(t,e){},tGse:function(t,e,r){t.exports=r.p+"static/img/1.dbf8d08.jpg"},vvha:function(t,e,r){var a={"./1.jpg":"tGse","./2.jpg":"2Bxi","./3.jpg":"lQgp","./default.jpg":"HbUk"};function s(t){return r(n(t))}function n(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id="vvha"}},["NHnr"]);
//# sourceMappingURL=app.b264aefed98f6495764d.js.map